{% extends 'users.html.twig' %}

{% block title %}Profile de {{ app.user.lastname }} {% endblock %}

{% block body %}
    <div class="separator" style="margin-top: 100px;"></div>
    <fieldset class="w3-white w3-card-2 w3-margin"><legend class="w3-green w3-padding-small"><strong>Modifier mon profil</strong></legend>
        {{ form_start(form,  {'attr': {'novalidate': 'novalidate', 'id' : 'edit-profile'}}) }}
        <div class="w3-row-padding">
            <div class="w3-third">
                {{ form_label(form.civility, 'Civilité') }}
                {{ form_widget(form.civility, {'attr': {'class': 'w3-input w3-border w3-round'}}) }}
                {{ form_errors(form.civility) }}
            </div>
            <div class="w3-third">
                {{ form_label(form.lastname, 'Nom') }}
                {{ form_widget(form.lastname, {'attr': {'class': 'w3-input w3-border w3-round'}}) }}
                {{ form_errors(form.lastname) }}
            </div>
            <div class="w3-third">
                {{ form_label(form.firstname, 'Prénom') }}
                {{ form_widget(form.firstname, {'attr': {'class': 'w3-input w3-border w3-round'}}) }}
                {{ form_errors(form.firstname) }}
            </div>
        </div>
        <div class="w3-row-padding">
            <div class="w3-half">
                {{ form_label(form.address, 'Adresse') }}
                {{ form_widget(form.address, {'attr': {'class': 'w3-input w3-border w3-round'}}) }}
                {{ form_errors(form.address) }}
            </div>
            <div class="w3-half">
                {{ form_label(form.address_complement, 'Complément adresse') }}
                {{ form_widget(form.address_complement, {'attr': {'class': 'w3-input w3-border w3-round'}}) }}
                {{ form_errors(form.address_complement) }}
            </div>
        </div>
        <div class="w3-row-padding">
            <div class="w3-third">
                {{ form_label(form.postal_code, 'Code postal') }}
                {{ form_widget(form.postal_code, {'attr': {'class': 'w3-input w3-border w3-round'}}) }}
                {{ form_errors(form.postal_code) }}
            </div>
            <div class="w3-third">
                {{ form_label(form.city, 'Ville') }}
                {{ form_widget(form.city, {'attr': {'class': 'w3-input w3-border w3-round'}}) }}
                {{ form_errors(form.city) }}
            </div>
            <div class="w3-third">
                {{ form_label(form.phone_mobile, 'Téléphone') }}
                {{ form_widget(form.phone_mobile, {'attr': {'class': 'w3-input w3-border w3-round'}}) }}
                {{ form_errors(form.phone_mobile) }}
            </div>
        </div>
        <p class="w3-padding">
            <span style="color: #ff0000; font-weight: bold">*</span> Champs obligatoires.
        </p>
        {{ form_end(form) }}
        <div class="w3-bar">
            <button id="back" class="w3-button w3-red w3-round-large">Annuler</button>
            <button id="valider" class="w3-btn w3-blue w3-round-large">Valider</button>
        </div>
    </fieldset>
{% endblock %}
{% block javascripts %}
    <script>
        $(function(){
            $("#back").click(function (ev) {
                ev.preventDefault();
                window.location.href = "{{ path('users_profile') }}";
            })
            $("#valider").click(function () {
                $("#edit-profile").submit();
            });
        });
    </script>
{% endblock %}